import{_ as S,u as x,o as C,q as I,f as V,c as M,a as p,b as u,h as e,w,i as o,v as r,t as _,s as P,j as q,F as b,r as U,d as B,p as N,k as $}from"./index-8b47735a.js";import{O as F}from"./OneCard-92e4c641.js";import{u as E}from"./index-992b9cf0.js";const n=a=>(N("data-v-92351584"),a=a(),$(),a),O={class:"float-child-left"},j=["onSubmit"],z={class:"login-container mb-1"},G={class:"form-group"},H={class:"intput-group mb-1"},L={class:"input-grou-prepend"},T=n(()=>e("label",{for:"model"},"Model",-1)),A={class:"form-group"},J={class:"intput-group mb-1"},K={class:"input-grou-prepend"},Q=n(()=>e("label",{for:"price"},"Price",-1)),R={class:"form-group"},W={class:"intput-group mb-1"},X={class:"input-grou-prepend"},Y=n(()=>e("label",{for:"picture"},"Picture url",-1)),Z={class:"form-group"},ee={class:"intput-group mb-1"},te={class:"input-grou-prepend"},se=n(()=>e("label",{for:"stock"},"Stock",-1)),ie={class:"form-group"},ce={class:"intput-group mb-1"},de={class:"input-grou-prepend"},oe=n(()=>e("label",{for:"brand"},"Marca",-1)),re={class:"form-group"},ne={class:"intput-group mb-1"},ae=n(()=>e("div",{class:"input-grou-prepend"},[e("label",{for:"specs"},"Specs")],-1)),le={class:"float-child-right"},pe={__name:"CrudProduct",setup(a){const d=x();C(()=>d.dispatch("getDevices"));const v=I(null),t=V({device:{id:"",model:"",specs:"",price:0,picture:"",stock:0,brand:""}}),h=M(()=>d.getters.getStockedDevices),m=E(t).value.$validate(),f=async()=>{m?(t.device.id!==""?y():t.device.id==""&&D(),l()):console.log("error - form is not valid check inputs"),d.dispatch("getDevices")},g=async()=>{m&&(d.dispatch("deleteDevice",t.device),d.dispatch("getDevices"),l())},k=c=>{let i={id:c.id,model:c.model,price:c.price,picture:c.picture,stock:c.stock,brand:c.brand,specs:c.specs};t.device=i,v.value.focus()},y=()=>{let c={id:t.device.id,model:t.device.model,price:parseInt(t.device.price),picture:t.device.picture,stock:parseInt(t.device.stock),brand:t.device.brand,specs:t.device.specs.trim()};d.dispatch("updateDevice",c),d.dispatch("getDevices"),l()},D=()=>{let c={model:t.device.model,price:parseInt(t.device.price),picture:t.device.picture,stock:parseInt(t.device.stock),brand:t.device.brand,specs:t.device.specs.trim()};d.dispatch("addDevice",c),d.dispatch("getDevices")},l=()=>{t.device={id:"",model:"",specs:"",price:0,picture:"",stock:0,brand:""},t.formstate.$reset};return(c,i)=>(p(),u(b,null,[e("div",O,[e("form",{onSubmit:w(f,["prevent"])},[e("div",z,[e("div",G,[e("div",H,[e("div",L,[T,o(e("input",{id:"model",type:"text","onUpdate:modelValue":i[0]||(i[0]=s=>t.device.model=s),placeholder:"Model",required:"",name:"model"},null,512),[[r,t.device.model]])])])]),e("div",A,[e("div",J,[e("div",K,[Q,o(e("input",{id:"price",type:"number","onUpdate:modelValue":i[1]||(i[1]=s=>t.device.price=s),placeholder:"Price",required:"",name:"price"},null,512),[[r,t.device.price]])])])]),e("div",R,[e("div",W,[e("div",X,[Y,o(e("input",{ref:"pic",id:"picture",type:"text","onUpdate:modelValue":i[2]||(i[2]=s=>t.device.picture=s),placeholder:"Picture",name:"picture"},null,512),[[r,t.device.picture]])])])]),e("div",Z,[e("div",ee,[e("div",te,[se,o(e("input",{id:"stock",type:"number","onUpdate:modelValue":i[3]||(i[3]=s=>t.device.stock=s),placeholder:"Stock",required:"",name:"stock"},null,512),[[r,t.device.stock]])])])]),e("div",ie,[e("div",ce,[e("div",de,[oe,o(e("input",{id:"brand",type:"text","onUpdate:modelValue":i[4]||(i[4]=s=>t.device.brand=s),placeholder:"Brand",required:"",name:"brand"},null,512),[[r,t.device.brand]])])]),e("div",re,[e("div",ne,[ae,o(e("textarea",{ref_key:"textarea",ref:v,class:"textarea",id:"specs","onUpdate:modelValue":i[5]||(i[5]=s=>t.device.specs=s),placeholder:"Eech spec must be separeted by a comma ','",required:"",name:"specs",cols:"20",rows:"10"},null,512),[[r,t.device.specs]])])])]),e("div",null,[e("div",null,[e("span",null,_(t.device.id!=""?"Modify "+t.device.model:""),1)]),e("div",null,[e("button",{class:P(t.device.id==""?"btn btn-success":"btn btn-warning"),type:"submit"},_(t.device.id==""?"Create New":"Modify ID:"+t.device.id),3),e("button",{class:"btn btn-secondary",onClick:l},"Clear"),e("div",null,[t.device.id!=""?(p(),u("button",{key:0,type:"button",class:"btn btn-danger ml-3 mt-3",onClick:g},"Delete ")):q("",!0)])])])])],40,j)]),e("div",le,[(p(!0),u(b,null,U(h.value,s=>(p(),u("div",{class:"float-child-card",key:s.id},[B(F,{button:"Modify",model:s.model,price:s.price,picture:s.picture,id:s.id,stock:s.stock,brand:s.brand,specs:s.specs,onGetSelectedItem:k},null,8,["model","price","picture","id","stock","brand","specs"])]))),128))])],64))}},be=S(pe,[["__scopeId","data-v-92351584"]]);export{be as default};
