import{_ as x,e as E,u as U,c as t,f as q,g as V,a as r,b as l,h as s,w as A,i as v,v as h,j as p,F as C,p as M,k as B}from"./index-8b47735a.js";import{u as R}from"./index-992b9cf0.js";import{c as b,r as f,e as j,m as F}from"./index-f3a7b22b.js";const m=a=>(M("data-v-973d855b"),a=a(),B(),a),N=m(()=>s("div",null,[s("p",null,"Usuario admin para crud: admin@coder.com/Admin1234")],-1)),$={class:"login-container"},D=["onSubmit"],O={class:"form-group"},P={class:"intput-group mb-3"},T=m(()=>s("div",{class:"input-grou-prepend"},[s("span",{class:"input-group-text"},[s("label",{for:"email"},"Email:")])],-1)),z={class:"form-group"},G={class:"intput-group mb-3"},H=m(()=>s("div",{class:"input-grou-prepend"},[s("span",{class:"input-group-text"},[s("label",{for:"password"},"Password:")])],-1)),J={key:0},K={key:1},Q={key:2},W=["disabled"],X={__name:"LogInComp",props:{states:Object},setup(a){const g=E(),e=U(),_=t(()=>e.getters.loginSuccess),d=t(()=>e.getters.loginError),c=t(()=>e.getters.isRegistered),i=t(()=>e.getters.isLoading),w=t(()=>e.getters.isAdmin),o=q({login:{email:"",password:""}}),S=t(()=>({login:{email:{required:b.withMessage("Email is required",f),email:b.withMessage("Email must be valid",j)},password:{required:f,minLength:F(3)}}})),y=R(S,o);V(()=>{_.value&&!d.value&&!i.value&&c.value&&(w.value?g.push("/product-mgmt"):g.push("/"))});const L=async()=>{await y.value.$validate()?k():console.log("error - form is not valid check inputs")},k=()=>{e.dispatch("logIn",o.login)};return(I,n)=>(r(),l(C,null,[N,s("div",$,[s("form",{onSubmit:A(L,["prevent"])},[s("div",O,[s("div",P,[T,v(s("input",{type:"email",class:"form-control",id:"email","onUpdate:modelValue":n[0]||(n[0]=u=>o.login.email=u),autocomplete:"admin@coder.com",required:"",name:"email"},null,512),[[h,o.login.email]])])]),s("div",z,[s("div",G,[H,v(s("input",{type:"password",class:"form-control",id:"password","onUpdate:modelValue":n[1]||(n[1]=u=>o.login.password=u),autocomplete:"Admin123",required:"",name:"password"},null,512),[[h,o.login.password]])])]),s("div",null,[_.value?(r(),l("span",J," Success! ")):p("",!0),d.value&&c.value&&!i.value?(r(),l("span",K," User or password are incorrect")):p("",!0),d.value&&!c.value&&!i.value?(r(),l("span",Q," User is not registered ")):p("",!0)]),s("button",{class:"btn btn-success",type:"submit",disabled:i.value},"Login",8,W)],40,D)])],64))}},es=x(X,[["__scopeId","data-v-973d855b"]]);export{es as default};
