import{_ as x,e as E,u as U,c as t,f as q,g as V,a as r,b as l,h as e,w as A,i as v,v as h,j as p,F as C,p as M,k as B}from"./index-533180a0.js";import{u as R}from"./index-da856e0b.js";import{c as b,r as f,e as j,m as F}from"./index-67df48c9.js";const m=a=>(M("data-v-30e7fbab"),a=a(),B(),a),N=m(()=>e("div",null,[e("p",null,"Usuario admin para crud: admin@coder.com/Admin1234")],-1)),$={class:"login-container"},D=["onSubmit"],O={class:"form-group"},P={class:"intput-group mb-3"},T=m(()=>e("div",{class:"input-grou-prepend"},[e("span",{class:"input-group-text"},[e("label",{for:"email"},"Email:")])],-1)),z={class:"form-group"},G={class:"intput-group mb-3"},H=m(()=>e("div",{class:"input-grou-prepend"},[e("span",{class:"input-group-text"},[e("label",{for:"password"},"Password:")])],-1)),J={key:0},K={key:1},Q={key:2},W=["disabled"],X={__name:"LogInComp",props:{states:Object},setup(a){const g=E(),s=U(),_=t(()=>s.getters.loginSuccess),d=t(()=>s.getters.loginError),c=t(()=>s.getters.isRegistered),i=t(()=>s.getters.isLoading),w=t(()=>s.getters.isAdmin),o=q({login:{email:"",password:""}}),S=t(()=>({login:{email:{required:b.withMessage("Email is required",f),email:b.withMessage("Email must be valid",j)},password:{required:f,minLength:F(3)}}})),y=R(S,o);V(()=>{_.value&&!d.value&&!i.value&&c.value&&(w.value?g.push("/final-diegocola/product-mgmt"):g.push("/final-diegocola/"))});const L=async()=>{await y.value.$validate()?k():console.log("error - form is not valid check inputs")},k=()=>{s.dispatch("logIn",o.login)};return(I,n)=>(r(),l(C,null,[N,e("div",$,[e("form",{onSubmit:A(L,["prevent"])},[e("div",O,[e("div",P,[T,v(e("input",{type:"email",class:"form-control",id:"email","onUpdate:modelValue":n[0]||(n[0]=u=>o.login.email=u),autocomplete:"admin@coder.com",required:"",name:"email"},null,512),[[h,o.login.email]])])]),e("div",z,[e("div",G,[H,v(e("input",{type:"password",class:"form-control",id:"password","onUpdate:modelValue":n[1]||(n[1]=u=>o.login.password=u),autocomplete:"Admin123",required:"",name:"password"},null,512),[[h,o.login.password]])])]),e("div",null,[_.value?(r(),l("span",J," Success! ")):p("",!0),d.value&&c.value&&!i.value?(r(),l("span",K," User or password are incorrect")):p("",!0),d.value&&!c.value&&!i.value?(r(),l("span",Q," User is not registered ")):p("",!0)]),e("button",{class:"btn btn-success",type:"submit",disabled:i.value},"Login",8,W)],40,D)])],64))}},se=x(X,[["__scopeId","data-v-30e7fbab"]]);export{se as default};
