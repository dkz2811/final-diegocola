import{_ as f,e as L,u as x,c as r,a as o,b as l,h as t,F as u,r as _,t as e,p as I,k as B}from"./index-5af83c37.js";const a=d=>(I("data-v-5a96a8e6"),d=d(),B(),d),Y={class:"container col-12"},$={class:"col-md-6"},w={class:"cart-container text-center"},F={class:"card mb-2",style:{width:"18rem"}},O={class:"card-body"},R=a(()=>t("h5",{class:"card-title"},"Your Cart",-1)),T={class:"list-group-item"},U={class:"d-flex"},A={class:"mr-2"},D=["onClick"],E={class:"list-group-item"},N={class:"col-md-6"},P={class:"table"},V=a(()=>t("div",null,[t("h3",null,"Your previous purchases")],-1)),j={class:"table table-striped"},q=a(()=>t("thead",null,[t("tr",null,[t("th",{scope:"col"},"recipt"),t("th",{scope:"col"},"date"),t("th",{scope:"col"},"total"),t("th",{scope:"col"})])],-1)),z={scope:"row"},G=a(()=>t("td",null,[t("button",{class:"btn btn-secondary"},"Buy Again")],-1)),H=a(()=>t("td",null,"detail",-1)),J={__name:"CartComp",setup(d){const v=L(),c=x(),m=r(()=>c.getters.getUser),b=r(()=>c.getters.isLogged),k=r(()=>c.getters.getShoppingList),p=r(()=>c.getters.getShoppingListTotal),y=h=>{c.dispatch("removeProductFromShoppingList",h)},C=()=>{p.value>0&&(b.value?c.dispatch("checkOut"):(alert("You must be logged in to check out"),v.push("/log-in")))};return(h,g)=>(o(),l("div",Y,[t("div",null,[t("div",$,[t("div",w,[t("div",F,[t("div",O,[R,t("div",null,[(o(!0),l(u,null,_(k.value,(s,n)=>(o(),l("ul",{class:"list-group list-group-flush",key:n},[t("div",null,[t("li",T,[t("div",U,[t("div",null,[t("span",A," Item:"+e(n+1)+" "+e(s.model)+" $"+e(s.price),1)]),t("div",null,[t("button",{class:"btn btn btn-outline-danger float-right",onClick:i=>y(n)}," Remove",8,D)])])])])]))),128)),t("div",E,[t("span",null,"Your total: $"+e(p.value),1)])]),t("div",null,[t("button",{type:"button",class:"btn btn-success mt-3","data-toggle":"modal","data-target":".bd-example-modal-lg",onClick:g[0]||(g[0]=s=>C())}," Check Out! ")])])])])]),t("div",N,[t("div",P,[V,t("table",j,[q,(o(!0),l(u,null,_(m.value.purchases,(s,n)=>(o(),l("tbody",{key:n},[t("tr",null,[t("th",z,e(s.id),1),t("td",null,e(s.date),1),t("td",null,e(s.total),1),G]),(o(!0),l(u,null,_(s.detail,(i,S)=>(o(),l("tr",{key:S},[H,t("td",null,"product id: "+e(i.product_id),1),t("td",null,"model: "+e(i.product_name),1),t("td",null,"price: "+e(i.price),1)]))),128))]))),128))])])])])]))}},M=f(J,[["__scopeId","data-v-5a96a8e6"]]);export{M as default};
