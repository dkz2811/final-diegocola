import{_ as I,u as V,o as M,q as w,f as P,c as f,a as u,b as v,h as e,w as q,i as c,v as r,t as h,s as U,j as B,F as g,r as N,d as $,p as F,k as A}from"./index-cda8004e.js";import{O as E}from"./OneCard-bc8eb3cf.js";import{u as L}from"./index-8da9998b.js";const n=a=>(F("data-v-3e3d6976"),a=a(),A(),a),O={class:"float-child-left"},j=["state","onSubmit"],z={class:"login-container mb-1"},G={class:"form-group"},H={class:"intput-group mb-1"},T={class:"input-grou-prepend"},J=n(()=>e("label",{for:"model"},"Model",-1)),K={class:"form-group"},Q={class:"intput-group mb-1"},R={class:"input-grou-prepend"},W=n(()=>e("label",{for:"price"},"Price",-1)),X={class:"form-group"},Y={class:"intput-group mb-1"},Z={class:"input-grou-prepend"},ee=n(()=>e("label",{for:"picture"},"Picture url",-1)),te={class:"form-group"},se={class:"intput-group mb-1"},ie={class:"input-grou-prepend"},de=n(()=>e("label",{for:"stock"},"Stock",-1)),oe={class:"form-group"},ce={class:"intput-group mb-1"},re={class:"input-grou-prepend"},ne=n(()=>e("label",{for:"brand"},"Marca",-1)),ae={class:"form-group"},le={class:"intput-group mb-1"},pe=n(()=>e("div",{class:"input-grou-prepend"},[e("label",{for:"specs"},"Specs")],-1)),ue={class:"float-child-right"},ve={__name:"CrudProduct",setup(a){const o=V();M(()=>o.dispatch("getDevices"));const m=w(null),t=P({formstate:{},device:{id:"",model:"",specs:"",price:0,picture:"",stock:0,brand:""}}),_=f(()=>o.getters.isAdmin),k=f(()=>o.getters.getStockedDevices),b=L(t).value.$validate(),l=()=>{o.dispatch("getDevices")},y=async()=>{b&&_.value?(t.device.id!==""?x():t.device.id==""&&C(),p()):console.log("error - form is not valid check inputs"),l()},D=async()=>{b&&_.value&&(o.dispatch("deleteDevice",t.device),p(),l())},S=d=>{let i={id:d.id,model:d.model,price:d.price,picture:d.picture,stock:d.stock,brand:d.brand,specs:d.specs};t.device=i,m.value.focus()},x=()=>{let d={id:t.device.id,model:t.device.model,price:parseInt(t.device.price),picture:t.device.picture,stock:parseInt(t.device.stock),brand:t.device.brand,specs:t.device.specs.trim()};p(),o.dispatch("updateDevice",d),l()},C=()=>{let d={model:t.device.model,price:parseInt(t.device.price),picture:t.device.picture,stock:parseInt(t.device.stock),brand:t.device.brand,specs:t.device.specs.trim()};o.dispatch("addDevice",d),l()},p=()=>{t.device={id:"",model:"",specs:"",price:0,picture:"",stock:0,brand:""},t.formstate.$reset};return(d,i)=>(u(),v(g,null,[e("div",O,[e("form",{state:t.formstate,onSubmit:q(y,["prevent"])},[e("div",z,[e("div",G,[e("div",H,[e("div",T,[J,c(e("input",{id:"model",type:"text","onUpdate:modelValue":i[0]||(i[0]=s=>t.device.model=s),placeholder:"Model",required:"",name:"model"},null,512),[[r,t.device.model]])])])]),e("div",K,[e("div",Q,[e("div",R,[W,c(e("input",{id:"price",type:"number","onUpdate:modelValue":i[1]||(i[1]=s=>t.device.price=s),placeholder:"Price",required:"",name:"price"},null,512),[[r,t.device.price]])])])]),e("div",X,[e("div",Y,[e("div",Z,[ee,c(e("input",{ref:"pic",id:"picture",type:"text","onUpdate:modelValue":i[2]||(i[2]=s=>t.device.picture=s),placeholder:"Picture",name:"picture"},null,512),[[r,t.device.picture]])])])]),e("div",te,[e("div",se,[e("div",ie,[de,c(e("input",{id:"stock",type:"number","onUpdate:modelValue":i[3]||(i[3]=s=>t.device.stock=s),placeholder:"Stock",required:"",name:"stock"},null,512),[[r,t.device.stock]])])])]),e("div",oe,[e("div",ce,[e("div",re,[ne,c(e("input",{id:"brand",type:"text","onUpdate:modelValue":i[4]||(i[4]=s=>t.device.brand=s),placeholder:"Brand",required:"",name:"brand"},null,512),[[r,t.device.brand]])])]),e("div",ae,[e("div",le,[pe,c(e("textarea",{ref_key:"textarea",ref:m,class:"textarea",id:"specs","onUpdate:modelValue":i[5]||(i[5]=s=>t.device.specs=s),placeholder:"Eech spec must be separeted by a comma ','",required:"",name:"specs",cols:"20",rows:"10"},null,512),[[r,t.device.specs]])])])]),e("div",null,[e("div",null,[e("span",null,h(t.device.id!=""?"Modify "+t.device.model:""),1)]),e("div",null,[e("button",{class:U(t.device.id==""?"btn btn-success":"btn btn-warning"),type:"submit"},h(t.device.id==""?"Create New":"Modify ID:"+t.device.id),3),e("button",{class:"btn btn-secondary",onClick:p},"Clear"),e("div",null,[t.device.id!=""?(u(),v("button",{key:0,type:"button",class:"btn btn-danger ml-3 mt-3",onClick:D},"Delete ")):B("",!0)])])])])],40,j)]),e("div",ue,[(u(!0),v(g,null,N(k.value,s=>(u(),v("div",{class:"float-child-card",key:s.id},[$(E,{button:"Modify",model:s.model,price:s.price,picture:s.picture,id:s.id,stock:s.stock,brand:s.brand,specs:s.specs,onGetSelectedItem:S},null,8,["model","price","picture","id","stock","brand","specs"])]))),128))])],64))}},he=I(ve,[["__scopeId","data-v-3e3d6976"]]);export{he as default};
